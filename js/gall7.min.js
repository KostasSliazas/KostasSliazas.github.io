!function(){"use strict";var t=function(t){for(var i=arguments,e=1;e<i.length;e++)t.appendChild(i[e])},i=function(t){for(var i=arguments,e=1;e<i.length;e+=2)t.setAttribute(i[e],i[e+1])},e=function(t){return document.createElement(t)};function s(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var n=function(){function n(s){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,n);var a=this;a.css=s.css,a.folder=s.folder,a.imageContainer=s.imageContainer,a.timer=isFinite(s.delaySeconds)?1e3*s.delaySeconds:1700,a.showButtonsOnPlay=void 0===s.showButtonsOnPlay||!!s.showButtonsOnPlay,a.showButtons=void 0===s.showButtons||!!s.showButtons,a.imagesArray=[],a.indexOfImage=null,a.isAutoPlayOn=!1,a.isActive=!1,a.timeOut=0,a.clos=e("button"),a.ilef=e("button"),a.irig=e("button"),a.imag=e("div"),a.cent=e("div"),a.left=e("div"),a.rigt=e("div"),a.insi=e("div"),a.cent.id="cent7",a.ilef.id="ilef7",a.irig.id="irig7",a.clos.id="clos7",a.rigt.id="rigt7",a.insi.id="insi7",a.left.id="left7",a.imag.id="imag7",a.imag.className="hide7",t(a.cent,a.insi,a.rigt,a.left,a.clos),t(a.rigt,a.irig),t(a.left,a.ilef),t(a.imag,a.cent),i(a.irig,"aria-label","Next"),i(a.ilef,"aria-label","Previous"),i(a.clos,"aria-label","Close","title","Press Esc to close"),t(document.body,a.imag)}var a,o;return a=n,(o=[{key:"addImagesToArray",value:function(){for(var t=this,i=document.getElementsByClassName(this.imageContainer).length>0?document.getElementsByClassName(this.imageContainer):document.getElementsByTagName("body"),e=[],s=i.length-1;s>=0;s--)e.push(i[s]);for(var n=e.length-1;n>=0;n--)for(var a=e[n].getElementsByTagName("img"),o=0;o<a.length;o++)this.imagesArray.push(a[o]);if(e[0]&&"BODY"===e[0].tagName)document.body.addEventListener("click",(function(i){t.listenForIG(i)}));else for(var h=e.length-1;h>=0;h--)e[h].addEventListener("click",(function(i){t.listenForIG(i)}))}},{key:"init",value:function(){var s=e("link");i(s,"rel","stylesheet","href",this.css||"css/gall7.min.css"),t(document.getElementsByTagName("head")[0],s),this.showButtons&&(this.wdow=e("button"),this.play=e("button"),this.foot=e("div"),this.onow=e("div"),this.alts=e("span"),this.fine=e("span"),this.down=e("span"),this.alts.id="alts7",this.play.id="play7",this.foot.id="foot7",this.onow.id="onow7",this.down.id="down7",this.wdow.id="wdow7",this.fine.id="stat7",t(this.onow,this.alts,this.wdow),t(this.imag,this.onow,this.foot),t(this.foot,this.play,document.createTextNode(this.imagesArray.length+"["),this.fine,document.createTextNode("]")),t(this.wdow,this.down),i(this.wdow,"aria-label","Download"),i(this.play,"aria-label","Play"))}}])&&s(a.prototype,o),Object.defineProperty(a,"prototype",{writable:!1}),n}(),a={lefts:function(){return this.indexOfImage>0?this.indexOfImage--:this.indexOfImage=this.imagesArray.length-1,this},right:function(){return this.indexOfImage<this.imagesArray.length-1?this.indexOfImage++:this.indexOfImage=0,this},autoPlayLoop:function(){this.isAutoPlayOn=!0,this.showButtons&&(this.play.className="acts7"),this.timeOut=setTimeout(function(){this.right().show(),this.showButtonsOnPlay||(this.left.className=this.rigt.className=this.clos.className="hide7",this.showButtons&&(this.foot.className=this.onow.className="hide7")),this.indexOfImage===this.imagesArray.length-1&&this.clear()}.bind(this),this.timer)},loadComplete:function(){this.imgs.complete&&0!==this.imgs.naturalHeight&&(this.insi.className=""),this.isAutoPlayOn&&this.autoPlayLoop()},downloads:function(){var t=e("a");i(t,"rel","noreferrer","download",this.imgs.src.split("/").pop(),"href",this.imgs.src,"target","_blank"),t.click(),t.remove()},clear:function(){return clearTimeout(this.timeOut),this.isAutoPlayOn=!1,this.showButtons&&(this.foot.className=this.onow.className=this.play.className=""),this.showButtonsOnPlay||(this.clos.className=""),this.leftRigthBtnsShow(),this},close:function(){this.isActive=!1,this.imag.className="hide7",document.documentElement.style.overflow="visible"},leftRigthBtnsShow:function(){this.left.className=0===this.indexOfImage?"hide7":"",this.rigt.className=this.indexOfImage===this.imagesArray.length-1?"hide7":""},show:function(){var s=this.imagesArray[this.indexOfImage],n=s.src,a=n.split("/").pop(),o=a.slice(0,-3).indexOf("svg")>0?n:n.replace(a,this.folder+a);this.isActive||(this.isActive=!0,document.documentElement.style.overflow="hidden",this.imag.className=""),(!this.imgs||this.imgs.src!==n&&this.imgs.src!==o)&&(o!==n&&(this.insi.className="spin7"),this.imgs&&this.insi.removeChild(this.imgs),this.leftRigthBtnsShow(),this.showButtons&&(this.alts.innerText=decodeURI(a),this.fine.innerText=Number(this.indexOfImage)+1),this.imgs=e("img"),i(this.imgs,"alt",s.alt),t(this.insi,this.imgs),this.imgs.onerror=function(t){t.target.onerror=null,t.target.src=n},this.imgs.onload=this.loadComplete.bind(this),this.imgs.src=o)},listenForIG:function(t){var i=t.target;"IMG"===i.tagName&&(this.indexOfImage=this.imagesArray.indexOf(i)>-1?this.imagesArray.indexOf(i):0,this.show(),t.stopImmediatePropagation())}};Object.assign(n.prototype,a);var o=new n({css:"",delaySeconds:.7,folder:"big/",imageContainer:"images-container",showButtons:1,showButtonsOnPlay:0});o.addImagesToArray(),function(){var t,i,e,s=this,n={play7:function(){s.isAutoPlayOn?s.clear():s.autoPlayLoop()},left7:function(){s.clear().lefts().show()},rigt7:function(){s.clear().right().show()},clos7:function(){s.clear().close()},wdow7:function(){s.clear().downloads()}};function a(t){if(this.isActive&&!t.isComposing&&229!==t.key){var i=t.key||t.target.id;if(!n[i])return this.clear();n[i](),t.preventDefault(),t.stopImmediatePropagation()}}n[" "]=n.play7,n.ArrowLeft=n.left7,n.ArrowRight=n.rigt7,n.Escape=n.clos7,this.imag.addEventListener("touchstart",(function(s){t=s.touches[0].pageX,i=s.touches[0].pageY,e=new Date}),{passive:!0}),this.imag.addEventListener("touchend",(function(s){var a=s.changedTouches[0].pageX,o=s.changedTouches[0].pageY,h=new Date,l=a-t,r=o-i,c=h-e;Math.abs(l)>30&&Math.abs(r)<30&&c<1e3&&(l<0?n.rigt7():n.left7())})),window.addEventListener("keyup",a.bind(this)),this.imag.addEventListener("click",a.bind(this))}.call(o),o.init()}();